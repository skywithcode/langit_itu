<!DOCTYPE html>
<html lang="id" class="">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Langit Itu</title>
    <link rel="stylesheet" href="home.css" />
  </head>
  <body>
    <!-- Tombol â˜° -->
    <button id="menuToggle" class="menu-btn">â˜°</button>

    <!-- Tombol Dark Mode -->
    <button id="darkToggle" class="dark-toggle">ðŸŒ™</button>
    <!-- Overlay Blur -->
    <div id="backdropBlur" class="backdrop hidden"></div>

    <!-- Panel Sambutan -->
    <div id="welcomePanel" class="floating-center hidden">
      <div class="panel-content">
        <h4>ðŸŒŒ Langit</h4>
        <p>Ini cuma cerita langit <br />yah..sekedar cerita langit</p>
      </div>
    </div>

    <!-- Konten Utama -->
    <main class="main-content">
      <div class="puisi-grid">
        <a href="../puisi/tentang-langit.html" class="puisi-card">
          <h3>ðŸ“– Tentang Langit</h3>
        </a>
        <a href="../puisi/langit-yang-kuingini.html" class="puisi-card">
          <h3>ðŸ“– Langit yang Kuingini</h3>
        </a>
        <a href="senja-terakhir.html" class="puisi-card">
          <h3>ðŸ“– Senja Terakhir</h3>
        </a>
        <a href="di-balik-awan.html" class="puisi-card">
          <h3>ðŸ“– Di Balik Awan</h3>
        </a>
        <a href="menunggu-hujan.html" class="puisi-card">
          <h3>ðŸ“– Menunggu Hujan</h3>
        </a>
        <!-- Judul Puisi Lainnya -->
      </div>
    </main>

    <!-- Script Tema dan Gambar -->
    <script>
      const html = document.documentElement;
      const toggleBtn = document.getElementById("darkToggle");
      const menuToggle = document.getElementById("menuToggle");
      const panel = document.getElementById("welcomePanel");
      const cards = document.querySelectorAll(".puisi-card");

      const lightImages = [
        "img/cloud-1.png",
        "img/cloud-2.png",
        "img/cloud-3.png",
        "img/cloud-4.png",
        "img/cloud-5.png",
      ];
      const darkImages = [
        "img/cloud-1-dark.png",
        "img/cloud-2-dark.png",
        "img/cloud-3-dark.png",
        "img/cloud-4-dark.png",
        "img/cloud-5-dark.png",
      ];

      function setRandomCloudImages(mode) {
        const bgImages = mode === "dark" ? darkImages : lightImages;
        cards.forEach((card) => {
          const rand = Math.floor(Math.random() * bgImages.length);
          card.style.backgroundImage = `url('${bgImages[rand]}')`;
          card.style.backgroundRepeat = "no-repeat";
          card.style.backgroundSize = "contain";
          card.style.backgroundPosition = "center";
          card.style.backgroundColor = "transparent";
        });
      }

      function setTheme(mode) {
        html.classList.remove("dark-mode", "light-mode");
        html.classList.add(`${mode}-mode`);
        localStorage.setItem("theme", mode);
        toggleBtn.textContent = mode === "dark" ? "ðŸŒ™" : "ðŸŒž";
        setRandomCloudImages(mode);
      }

      const savedTheme = localStorage.getItem("theme");
      if (savedTheme) {
        setTheme(savedTheme);
      } else {
        const prefersDark = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;
        setTheme(prefersDark ? "dark" : "light");
      }

      toggleBtn.onclick = () => {
        const current = html.classList.contains("dark-mode") ? "dark" : "light";
        setTheme(current === "dark" ? "light" : "dark");
      };

      const backdrop = document.getElementById("backdropBlur");

      menuToggle.onclick = () => {
        panel.classList.toggle("hidden");
        backdrop.classList.toggle("hidden");
      };
    </script>
  </body>
</html>
